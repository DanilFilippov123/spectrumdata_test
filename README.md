# Веб-парсер с контролем глубины и параллелизма

Приложение реализовано на FastAPI, страницы сохраняются в MongoDB. Для запуска выполните `docker-compose up`. Документация доступна по адресу `0.0.0.0:8080/docs`.

## Архитектура

Задача на парсинг `ParsePagesTask` координирует работу: загружает HTML через `Fetcher` (реализован через httpx), парсит через `Parser` (BeautifulSoup), сохраняет в репозиторий и добавляет найденные ссылки в очередь через `TaskExecutor`. Очередь `AsyncioTaskQueue` создает заданное количество воркеров на `asyncio.Task` и распределяет задачи через `asyncio.Queue`. Воркеры останавливаются автоматически через `queue.join()` когда все задачи выполнены.

MongoDB используется для хранения HTML-контента.

## Разработка

Для запуска тестов:
```bash
make test
```

Для проверки кода линтером:
```bash
make ruff
```